<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Productos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>

<body>
    <div class="m-4 p-5" style="background-color: #eaeaea; height: 40em;">
        <h1 class="display-3 mb-5" style="text-align: center; color: blue"><strong>Vista de Productos</strong></h1>
        <% if(products.length> 0){ %>
                <table class="table table-dark table-hover">
                        <thead>
                            <tr>
                                <th scope="col">Nombre</th>
                                <th scope="col">Precio</th>
                                <th scope="col">Foto</th>
                            </tr>
                        </thead>
                        <tbody>  
                            <% products.forEach(function(product) { %>
                                <tr>
                                    <td><%= product.title %></td>
                                    <td>$<%= product.price %></td>
                                    <% if(product.thumbnail.includes(".png") || product.thumbnail.includes(".jpg") || product.thumbnail.includes(".gif") || product.thumbnail.includes(".webp")){ %>
                                        <td><img src="<%= product.thumbnail %>" width="50em" height="50em"/></td>
                                    <% } else{ %>
                                        <td><%= product.thumbnail %></td>
                                    <% } %>
                                </tr>
                            <% }); %>                        
                        </tbody>
                </table>
                <% } else{ %>
                    <div class="alert alert-warning" role="alert">
                        <strong>No se encontraron productos</strong>
                    </div>
                <% } %>
                <div class="d-grid gap-2 col-2 mx-auto">
                    <a class="btn btn-danger" href="/">Cargar producto</a>
                </div>
    </div>
</body>

</html>